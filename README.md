# lab1_OC
Этот код демонстрирует шаблон производитель-потребитель с использованием потоков и механизмов синхронизации, таких как мьютекс и переменные условия.

Код определяет структуру MutexData, которая содержит мьютекс (m_mutex) для синхронизации доступа к данным, переменную условия (m_notification) для ожидания и уведомления других потоков, целое число (m_data) для хранения данных и логический флаг (m_isReady). указывающий, готовы ли данные к обработке.

Функция SendDataToChannel принимает ссылку на объект MutexData и целое число в качестве параметров. Он блокирует мьютекс, устанавливает данные и флаг, указывающие, что данные готовы, уведомляет один ожидающий поток, а затем ждет, пока данные не будут обработаны другим потоком.

Функция DataProviderThread — это функция потока, которая неоднократно отправляет данные в канал с помощью функции SendDataToChannel.

Функция ProcessDataFromChannel принимает ссылку на объект MutexData и возвращает обработанные данные. Он блокирует мьютекс, ждет, пока данные будут готовы, извлекает данные, сбрасывает флаг, уведомляет один ожидающий поток и возвращает данные.

Функция DataProcessThread — это функция потока, которая многократно обрабатывает данные из канала с помощью функции ProcessDataFromChannel.

В основной функции создается экземпляр MutexData. Создаются два потока: один для поставщика данных (DataProviderThread) и один для обработчика данных (DataProcessThread). Главный поток ожидает завершения обоих потоков перед выходом.

В целом, этот код демонстрирует, как использовать мьютекс и переменные условия для синхронизации обмена данными между несколькими потоками в шаблоне производитель-потребитель.


